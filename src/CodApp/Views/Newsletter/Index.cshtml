@using CodApp.Models
@model ICollection<Newsletter>

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br>

@if (User.Identity.IsAuthenticated)
{
<div class="container">
  <div class="container">
    <div class="well">
      <h4>Admin Actions:</h4>
      <p>@Html.ActionLink("View the current Reader List", "Readers")</p>
      @Html.ActionLink("Create a new Newsletter", "Create")
    </div>
  </div>
</div>
}
<div class="container">
  <div class="col-md-6">
    <div class="">
      <div class="panel panel-success">
        @if (Model.Count == 0) {
          <h2>There are currently no newsletters to display</h2>
        }
        else {
          @foreach (var newsletter in Model)
          {
            <div class="panel-heading">
              <h2>@Html.ActionLink(newsletter.Title, "Detail", new { id = newsletter.Id })
            </div>
            <div class="panel-body">
              <p>@newsletter.Content</p>
            </div>
          }
        }
      </div>
    </div>
  </div>
  <div class="col-md-6">
    @Html.Partial("AddReader", new CodApp.Models.Reader())
  </div>
</div>

<br>
